{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"ProductForm\",\n  data() {\n    return {\n      errors: {\n        name: \"\",\n        price: \"\",\n        description: \"\"\n      },\n      product: {\n        name: \"\",\n        price: \"\",\n        description: \"\"\n      }\n    };\n  },\n  created() {\n    let productId = this.$route.params.id;\n    if (productId) {\n      this.getInforProduct(productId);\n    }\n  },\n  methods: {\n    validate() {\n      let isValid = true;\n      this.errors = {\n        name: \"\",\n        price: \"\",\n        description: \"\"\n      };\n      if (!this.product.name) {\n        this.errors.name = \"Product name is required\";\n        isValid = false;\n      }\n      if (!this.product.price) {\n        this.errors.price = \"Product price is required\";\n      } else if (!this.isNumber(this.product.price)) {\n        this.errors.price = \"Product price is Number\";\n        isValid = false;\n      }\n      if (!this.product.description) {\n        this.errors.description = \"Description price is required\";\n        isValid = false;\n      }\n      return isValid;\n    },\n    isNumber(value) {\n      return /^\\d+$/.test(value);\n    },\n    save() {\n      if (this.validate()) {\n        if (this.product.id) {\n          this.$request.put(`http://localhost:3000/product/${this.product.id}`, this.product).then(res => {\n            if (res) {\n              this.$router.push({\n                name: 'product.list'\n              }); // Thêm thành công chuyển trang \n              return;\n            } else {\n              alert(\"Thêm thất bại\");\n            }\n          });\n          return;\n        }\n        this.$request.post('http://localhost:3000/product', this.product).then(res => {\n          if (res) {\n            this.$router.push({\n              name: 'product.list'\n            }); // Thêm thành công chuyển trang \n            return;\n          } else {\n            alert(\"Thêm thất bại\");\n          }\n        });\n      }\n    },\n    getInforProduct(productId) {\n      this.$request.get(`http://localhost:3000/product/${productId}`).then(res => {\n        this.product = res.data;\n      });\n    },\n    cancel() {\n      this.product.name = '';\n      this.product.price = '';\n      this.product.description = '';\n    }\n  }\n};","map":{"version":3,"names":["name","data","errors","price","description","product","created","productId","$route","params","id","getInforProduct","methods","validate","isValid","isNumber","value","test","save","$request","put","then","res","$router","push","alert","post","get","cancel"],"sources":["D:\\Học kỳ 2 Năm 2\\ungdungwed\\do_an_vue\\src\\views\\product\\ProductForm.vue"],"sourcesContent":["<template>\r\n    <div class=\"produdct_form\">\r\n        <div class=\"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center\">\r\n            <h3 class=\"display-5\">Product Infomation</h3>\r\n            <router-link to=\"/Product\">Back</router-link>\r\n        </div>\r\n\r\n        <div class=\"container\">\r\n            <form @submit.prevent=\"save()\">\r\n                <div class=\"form-group row\">\r\n                    <label for=\"inputPassword\" class=\"col-sm-3 col-form-label\">Product name</label>\r\n                    <div class=\"col-sm-9\">\r\n                        <input type=\"text\" class=\"form-control\" v-model=\"product.name\"\r\n                            v-bind:class=\"{ 'is-invalid': errors.name }\" @blur=\"validate()\" />\r\n                        <div class=\"invalid-feedback\" v-if=\"errors.name\">{{ errors.name }}</div>\r\n                    </div>\r\n\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label for=\"inputPassword\" class=\"col-sm-3 col-form-label\">Product price</label>\r\n                    <div class=\"col-sm-9\">\r\n                        <input type=\"text\" class=\"form-control\" v-model=\"product.price\"\r\n                            v-bind:class=\"{ 'is-invalid': errors.price }\" @blur=\"validate()\" />\r\n                        <div class=\"invalid-feedback\" v-if=\"errors.price\">{{ errors.price }}</div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label for=\"inputPassword\" class=\"col-sm-3 col-form-label\">Product description</label>\r\n                    <div class=\"col-sm-9\">\r\n                        <textarea class=\"form-control\" v-model=\"product.description\" rows=\"3\"\r\n                            v-bind:class=\"{ 'is-invalid': errors.description }\" @blur=\"validate()\"></textarea>\r\n                        <div class=\"invalid-feedback\" v-if=\"errors.price\">{{ errors.price }}</div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"form-group row\">\r\n                    <label for=\"inputPassword\" class=\"col-sm-3 col-form-label\"></label>\r\n                    <div class=\"col-sm-9 text-left\">\r\n                        <router-link to=\"/Product\">\r\n                            <button type=\"reset\" class=\"btn btn-danger\" @click=\"cancel()\">Cancel</button>\r\n                            &nbsp;\r\n                        </router-link>\r\n\r\n                        <button type=\"submit\" class=\"btn btn-primary\">Save</button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nexport default {\r\n    name: \"ProductForm\",\r\n    data() {\r\n        return {\r\n            errors: {\r\n                name: \"\",\r\n                price: \"\",\r\n                description: \"\"\r\n            },\r\n            product: {\r\n                name: \"\",\r\n                price: \"\",\r\n                description: \"\",\r\n            }\r\n        }\r\n    },\r\n\r\n    created() {\r\n        let productId = this.$route.params.id\r\n        if (productId) {\r\n            this.getInforProduct(productId);\r\n        }\r\n    },\r\n    methods: {\r\n        validate() {\r\n            let isValid = true;\r\n            this.errors = {\r\n                name: \"\",\r\n                price: \"\",\r\n                description: \"\",\r\n            };\r\n            if (!this.product.name) {\r\n                this.errors.name = \"Product name is required\";\r\n                isValid = false;\r\n            }\r\n            if (!this.product.price) {\r\n                this.errors.price = \"Product price is required\";\r\n            } else if (!this.isNumber(this.product.price)) {\r\n                this.errors.price = \"Product price is Number\"\r\n                isValid = false;\r\n            }\r\n            if (!this.product.description) {\r\n                this.errors.description = \"Description price is required\";\r\n                isValid = false;\r\n            }\r\n            return isValid;\r\n        },\r\n        isNumber(value) {\r\n            return /^\\d+$/.test(value);\r\n        },\r\n        save() {\r\n\r\n\r\n            if (this.validate()) {\r\n\r\n                if (this.product.id) {\r\n                    this.$request.put(`http://localhost:3000/product/${this.product.id}`, this.product).then(res => {\r\n                        if (res) {\r\n                            this.$router.push({ name: 'product.list' }) // Thêm thành công chuyển trang \r\n                            return\r\n                        } else {\r\n                            alert(\"Thêm thất bại\")\r\n                        }\r\n                    })\r\n                    return;\r\n                }\r\n                this.$request.post('http://localhost:3000/product', this.product).then(res => {\r\n                    if (res) {\r\n                        this.$router.push({ name: 'product.list' }) // Thêm thành công chuyển trang \r\n                        return\r\n                    } else {\r\n                        alert(\"Thêm thất bại\")\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        getInforProduct(productId) {\r\n            this.$request.get(`http://localhost:3000/product/${productId}`).then(res => {\r\n                this.product = res.data;\r\n            })\r\n        },\r\n        cancel() {\r\n            this.product.name = '';\r\n            this.product.price = '';\r\n            this.product.description = '';\r\n        }\r\n\r\n    }\r\n}\r\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}